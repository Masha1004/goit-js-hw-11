{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const getImg = query => {\n  return fetch(\n    `https://pixabay.com/api/?key=42682169-5194f534d6ac320016f3b6be7&q=${query}&image_type=photo&pretty=true`\n  );\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nconst getImgList = images => {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n        <li class=\"gallery__item\">\n            <a href=\"${largeImageURL}\" class=\"gallery__link\"\n                ><img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery__image\"\n            /></a>\n            <div class=\"gallery__description\">\n                <p class=\"gallery__text\"><strong>Likes</strong> <span>${likes}</span></p>\n                <p class=\"gallery__text\"><strong>Views</strong> <span>${views}</span></p>\n                <p class=\"gallery__text\"><strong>Comments</strong> <span>${comments}</span></p>\n                <p class=\"gallery__text\"><strong>Downloads</strong> <span>${downloads}</span></p>\n            </div>\n        </li>\n      `;\n      }\n    )\n    .join('');\n};\n\nexport const renderImages = imgList => {\n  gallery.innerHTML = '';\n  gallery.insertAdjacentHTML('beforeend', getImgList(imgList));\n};\n\ngallery.addEventListener('click', e => {\n  e.preventDefault();\n  const gallerySimple = new SimpleLightbox('a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  gallerySimple.open();\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImg } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.js-form');\nconst button = document.querySelector('button');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const value = evt.currentTarget.elements['js-input'].value;\n\n  if (value) {\n    button.disabled = true;\n    loader.style.display = 'block';\n    getImg(value)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.hits.length) {\n          renderImages(data.hits);\n        } else {\n          iziToast.show({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: 'green',\n            position: 'topCenter',\n          });\n        }\n      })\n      .catch(error => {\n        iziToast.show({\n          message: 'Something went wrong. Please try again',\n          messageColor: 'red',\n          position: 'topCenter',\n        });\n      })\n      .finally(() => {\n        button.disabled = false;\n        loader.style.display = 'none';\n      });\n  }\n\n  form.reset();\n});\n"],"names":["getImg","query","gallery","getImgList","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","renderImages","imgList","e","SimpleLightbox","form","button","loader","evt","value","response","data","iziToast","error"],"mappings":"wvBAAO,MAAMA,EAASC,GACb,MACL,qEAAqEA,CAAK,+BAC9E,ECAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAaC,GACVA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,uBAEQN,CAAa;AAAA,6BACPC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,wEAGiBC,CAAK;AAAA,wEACLC,CAAK;AAAA,2EACFC,CAAQ;AAAA,4EACPC,CAAS;AAAA;AAAA;AAAA,OAKhF,EACA,KAAK,EAAE,EAGCC,EAAeC,GAAW,CACrCX,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAaC,EAAWU,CAAO,CAAC,CAC7D,EAEAX,EAAQ,iBAAiB,QAASY,GAAK,CACrCA,EAAE,eAAc,EACM,IAAIC,EAAe,IAAK,CAC5C,aAAc,MACd,aAAc,GAClB,CAAG,EACa,KAAI,CACpB,CAAC,ECzCD,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,GAAO,CACrCA,EAAI,eAAc,EAClB,MAAMC,EAAQD,EAAI,cAAc,SAAS,UAAU,EAAE,MAEjDC,IACFH,EAAO,SAAW,GAClBC,EAAO,MAAM,QAAU,QACvBlB,EAAOoB,CAAK,EACT,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,OACZV,EAAaU,EAAK,IAAI,EAEtBC,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,SAAU,WACtB,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACdD,EAAS,KAAK,CACZ,QAAS,yCACT,aAAc,MACd,SAAU,WACpB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbN,EAAO,SAAW,GAClBC,EAAO,MAAM,QAAU,MAC/B,CAAO,GAGLF,EAAK,MAAK,CACZ,CAAC"}