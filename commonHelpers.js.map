{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = query => {\n  return fetch(\n    `https://pixabay.com/api/?key=42682169-5194f534d6ac320016f3b6be7&q=${query}&image_type=photo&pretty=true`\n  );\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\n\nconst getImgList = images => {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n        <li class=\"gallery__item\">\n            <a href=\"${largeImageURL}\" class=\"gallery__link\"\n                ><img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery__image\"\n            /></a>\n            <div class=\"gallery__description\">\n                <p class=\"gallery__text\"><strong>Likes</strong> <span>${likes}</span></p>\n                <p class=\"gallery__text\"><strong>Views</strong> <span>${views}</span></p>\n                <p class=\"gallery__text\"><strong>Comments</strong> <span>${comments}</span></p>\n                <p class=\"gallery__text\"><strong>Downloads</strong> <span>${downloads}</span></p>\n            </div>\n        </li>\n      `;\n      }\n    )\n    .join('');\n};\n\nexport const renderImages = imgList => {\n  gallery.innerHTML = '';\n  gallery.insertAdjacentHTML('beforeend', getImgList(imgList));\n};\n\ngallery.addEventListener('click', e => {\n  e.preventDefault();\n  const gallerySimple = new SimpleLightbox('a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  gallerySimple.open();\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst searchForm = document.querySelector('.js-form');\nconst button = document.querySelector('button');\nconst loader = document.querySelector('.loader');\n\nconst getErrorMessage = (message, messageColor) =>\n  iziToast.show({\n    message,\n    messageColor,\n    position: 'topCenter',\n  });\n\nsearchForm.addEventListener('submit', evt => {\n  evt.preventDefault();\n  const value = evt.currentTarget.elements['js-input'].value;\n\n  if (value) {\n    button.disabled = true;\n    loader.style.display = 'block';\n    fetchImages(value)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.hits.length) {\n          renderImages(data.hits);\n        } else {\n          getErrorMessage(\n            'Sorry, there are no images matching your search query. Please try again!', 'green');\n        }\n      })\n      .catch(error => getErrorMessage('Something went wrong. Please try again', 'red'))\n      .finally(() => {\n        button.disabled = false;\n        loader.style.display = 'none';\n      });\n  }\n\n  searchForm.reset();\n});\n"],"names":["fetchImages","query","gallery","getImgList","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","renderImages","imgList","e","SimpleLightbox","searchForm","button","loader","getErrorMessage","message","messageColor","iziToast","evt","value","response","data","error"],"mappings":"6vBAAO,MAAMA,EAAcC,GAClB,MACL,qEAAqEA,CAAK,+BAC9E,ECAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAaC,GACVA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,uBAEQN,CAAa;AAAA,6BACPC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,wEAGiBC,CAAK;AAAA,wEACLC,CAAK;AAAA,2EACFC,CAAQ;AAAA,4EACPC,CAAS;AAAA;AAAA;AAAA,OAKhF,EACA,KAAK,EAAE,EAGCC,EAAeC,GAAW,CACrCX,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,YAAaC,EAAWU,CAAO,CAAC,CAC7D,EAEAX,EAAQ,iBAAiB,QAASY,GAAK,CACrCA,EAAE,eAAc,EACM,IAAIC,EAAe,IAAK,CAC5C,aAAc,MACd,aAAc,GAClB,CAAG,EACa,KAAI,CACpB,CAAC,ECzCD,MAAMC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAkB,CAACC,EAASC,IAChCC,EAAS,KAAK,CACZ,QAAAF,EACA,aAAAC,EACA,SAAU,WACd,CAAG,EAEHL,EAAW,iBAAiB,SAAUO,GAAO,CAC3CA,EAAI,eAAc,EAClB,MAAMC,EAAQD,EAAI,cAAc,SAAS,UAAU,EAAE,MAEjDC,IACFP,EAAO,SAAW,GAClBC,EAAO,MAAM,QAAU,QACvBlB,EAAYwB,CAAK,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,OACZd,EAAac,EAAK,IAAI,EAEtBP,EACE,2EAA4E,OAAO,CAE/F,CAAO,EACA,MAAMQ,GAASR,EAAgB,yCAA0C,KAAK,CAAC,EAC/E,QAAQ,IAAM,CACbF,EAAO,SAAW,GAClBC,EAAO,MAAM,QAAU,MAC/B,CAAO,GAGLF,EAAW,MAAK,CAClB,CAAC"}